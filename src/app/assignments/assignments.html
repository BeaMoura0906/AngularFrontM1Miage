@if (isAdmin()) {
  <div class="top-actions">
    <button mat-raised-button routerLink="/add">
      Ajouter un assignment
    </button>
    
    <button mat-raised-button (click)="peuplerBD()">
      Peupler la base d’assignments
    </button>
  </div>
}

<h1>Liste des assignments</h1>

<mat-list>
  @for(assignment of assignments; track assignment.nom) {
    <mat-divider></mat-divider>

    <h3 mat-subheader>{{ assignment.dateDeRendu | date: 'dd/MM/yyyy' }}</h3>

    <mat-list-item [routerLink]="['/assignment', assignment.id]" style="cursor: pointer;">
      @if ( assignment.rendu ) {
        <p appRendu>
          Le devoir {{ assignment.nom }} a été rendu.
        </p>
      } 
      @else {
        <p appNonRendu>
          A RENDRE : {{ assignment.nom }}
        </p>
      }
    </mat-list-item>
  } 
</mat-list>

<mat-divider></mat-divider>

<div class="pagination" style="margin-top: 16px; display: flex; gap: 8px; align-items: center; flex-wrap: wrap;">
  <button mat-raised-button color="primary"
          (click)="premierePage()"
          [disabled]="page === 1">
    « Première
  </button>

  <button mat-raised-button color="primary"
          (click)="pagePrecedente()"
          [disabled]="page === 1">
    ‹ Précédente
  </button>

  <span>
    Page {{ page }} / {{ totalPages }} – {{ totalDocs }} assignments
  </span>

  <button mat-raised-button color="primary"
          (click)="pageSuivante()"
          [disabled]="page === totalPages">
    Suivante ›
  </button>

  <button mat-raised-button color="primary"
          (click)="dernierePage()"
          [disabled]="page === totalPages">
    Dernière »
  </button>
</div>
