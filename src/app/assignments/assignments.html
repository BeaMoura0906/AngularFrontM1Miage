
<div class="top-actions">
  @if (!formVisible) {
    <button mat-raised-button color="accent" (click)="onAddAssignmentBtnClick()">
      Ajouter un assignment
    </button>
  }
  
</div>

@if (formVisible) {
  <app-add-assignment (nouvelAssignment)="onNouvelAssignment($event)"></app-add-assignment>
}

<h1>Liste des assignments</h1>

<mat-list>
  @for(assignment of assignments; track assignment.nom) {
    <mat-divider></mat-divider>

    <h3 mat-subheader>{{ assignment.dateDeRendu | date: 'dd/MM/yyyy' }}</h3>

    <mat-list-item (click)="assignmentSelectionne = assignment" style="cursor: pointer;">
      @if ( assignment.rendu ) {
        <p appRendu>
          Le devoir {{ assignment.nom }} a été rendu.
        </p>
      } 
      @else {
        <p appNonRendu>
          A RENDRE : {{ assignment.nom }}
        </p>
      }
    </mat-list-item>
  } 
</mat-list>

<mat-divider></mat-divider>

<h2>Détails d'un assignment</h2>
<app-assignment-detail [assignmentTransmis]="assignmentSelectionne"></app-assignment-detail>
