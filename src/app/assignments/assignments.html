<p>{{ titre }}</p>

<h3>Ajouter un assignment</h3>
<form ngForm #assignmentForm (submit)="onSubmit(); assignmentForm.reset()" class="form">
  <mat-form-field>
    <input matInput
           placeholder="Nom du devoir"
           [(ngModel)]="nomDevoir"
           name="nomDevoir"
           required>
  </mat-form-field>

  <mat-form-field>
    <input matInput
           [matDatepicker]="picker"
           placeholder="Date de rendu"
           [(ngModel)]="dateDeRendu"
           name="dateDeRendu"
           required>
    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-datepicker #picker></mat-datepicker>
  </mat-form-field>

  <button mat-stroked-button color="primary" type="submit" [disabled]="!ajoutActive">
    Ajouter
  </button>
</form>

<h2>Liste des assignments</h2>

<mat-divider></mat-divider>
<mat-list>
  @for(assignment of assignments; track assignment.nom) {
    <h3 mat-subheader>{{ assignment.dateDeRendu | date: 'dd/MM/yyyy' }}</h3>

    <mat-list-item (click)="assignmentSelectionne = assignment" style="cursor: pointer;">
      @if ( assignment.rendu ) {
        <p appRendu>
          Le devoir {{ assignment.nom }} a été rendu.
        </p>
      } 
      @else {
        <p appNonRendu>
          A RENDRE : {{ assignment.nom }}
        </p>
      }
    </mat-list-item>
  } 
</mat-list>

<mat-divider></mat-divider>

<h1>Détails d'un assignment</h1>
<app-assignment-detail [assignmentTransmis]="assignmentSelectionne"></app-assignment-detail>